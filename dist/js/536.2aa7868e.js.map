{"version":3,"file":"js/536.2aa7868e.js","mappings":"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","sources":["webpack://mall/./src/views/shop/commonCartEffect.js","webpack://mall/./src/components/Shopinfo.vue","webpack://mall/./src/components/Shopinfo.vue?b146","webpack://mall/./src/views/orderConfirmation/OrderConfirmation.vue","webpack://mall/./src/views/orderConfirmation/TopArea.vue","webpack://mall/./src/views/orderConfirmation/TopArea.vue?5803","webpack://mall/./src/views/orderConfirmation/ProductList.vue","webpack://mall/./src/views/orderConfirmation/ProductList.vue?54f6","webpack://mall/./src/views/orderConfirmation/Order.vue","webpack://mall/./src/views/orderConfirmation/Order.vue?af59","webpack://mall/./src/views/orderConfirmation/OrderConfirmation.vue?bcaf"],"sourcesContent":["import { useStore } from \"vuex\";\r\nimport { computed } from 'vue'\r\nexport const useCartEffect = (shopId) => {\r\n    const store = useStore()\r\n    const cartList = store.state.cartList;\r\n    let timeOutEvent = 0;\r\n    const changeItemToCart = (shopId, productId, productInfo, num) => {\r\n        store.commit(\"changeItemToCart\", { shopId, productId, productInfo, num })\r\n    };\r\n    const changeItemToCart_touch = (shopId, productId, shopName, productInfo, num) => {\r\n        clearTimeout(timeOutEvent); //清除定时器\r\n        timeOutEvent = 0\r\n        timeOutEvent = setInterval(() => {  //setInterval重复按时执行\r\n            //执行长按要执行的内容\r\n            store.commit(\"changeItemToCart\", { shopId, productId, productInfo, num })\r\n            store.commit(\"shopNameToCart\", { shopId, shopName })\r\n        }, 300); //这里设置定时\r\n        // console.log(store.state.cartList)\r\n    };\r\n    const changeItemToCart_handle = (shopId, productId, shopName, productInfo, num) => {\r\n        clearTimeout(timeOutEvent); //清除定时器\r\n        if (timeOutEvent != 0) {\r\n            store.commit(\"changeItemToCart\", { shopId, productId, productInfo, num })\r\n            store.commit(\"shopNameToCart\", { shopId, shopName })\r\n        }\r\n    };\r\n    const productList = computed(() => {\r\n        const productList = cartList[shopId]?.productList || {};\r\n        const notEmptyProductList = {}\r\n        for (let i in productList) {\r\n            if (productList[i].count > 0) {\r\n                notEmptyProductList[i] = productList[i]\r\n            }\r\n        }\r\n        return notEmptyProductList;\r\n    });\r\n    const price = computed(() => {\r\n        const productList = cartList[shopId]?.productList;\r\n        let count = 0;\r\n        if (productList) {\r\n            for (let i in productList) {\r\n                const product = productList[i];\r\n                if (product.check) {\r\n                    count += product.count * product.price;\r\n                }\r\n            }\r\n        }\r\n        return count.toFixed(2);\r\n    });\r\n    const shopName = computed(() => {\r\n        return cartList[shopId]?.shopName || \"\";\r\n    });\r\n    return {\r\n        changeItemToCart,\r\n        changeItemToCart_touch,\r\n        changeItemToCart_handle,\r\n        productList,\r\n        price,\r\n        shopName\r\n    }\r\n}","<template>\r\n  <div class=\"shop\">\r\n    <img class=\"shop__img\" :src=\"item.imgUrl\" alt=\"\" />\r\n    <div\r\n      :class=\"{\r\n        shop__content: true,\r\n        'shop__content--bordered': hideborder ? false : true,\r\n      }\"\r\n    >\r\n      <div class=\"shop__content__title\">{{ item.name }}</div>\r\n      <div class=\"shop__content__tags\">\r\n        <span class=\"shop__content__tag\">月售{{ item.sales }}+</span>\r\n        <span class=\"shop__content__tag\">起送¥{{ item.expressLimit }}</span>\r\n        <span class=\"shop__content__tag\">基础运费¥{{ item.expressPrice }}</span>\r\n      </div>\r\n      <p class=\"shop__content__hightlight\">{{ item.slogan }}</p>\r\n      <div class=\"shop__products\" v-if=\"item.products\">\r\n        <div\r\n          class=\"shop__product\"\r\n          v-for=\"product in item.products\"\r\n          :key=\"product.name\"\r\n        >\r\n          <img class=\"shop__product__img\" :src=\"product.imgUrl\" alt=\"\" />\r\n          <p class=\"shop__product__title\">{{ product.name }}</p>\r\n          <p class=\"shop__product__price\">\r\n            <span class=\"price__yen\">&yen;</span><span class=\"price__num\">{{ product.price }}</span>\r\n            <span class=\"oldPrice__yen\">&yen;{{ product.oldPrice }}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"shopinfo\",\r\n  props: [\"item\", \"hideborder\"],\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../style/viriables.scss\";\r\n@import \"../style/mixins.scss\";\r\np {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 0;\r\n}\r\n.shop {\r\n  display: flex;\r\n  padding-top: 0.12rem;\r\n  &__img {\r\n    margin-right: 0.16rem;\r\n    width: 0.56rem;\r\n    height: 0.56rem;\r\n  }\r\n  &__content {\r\n    flex: 1;\r\n    &--bordered {\r\n      border-bottom: 1px solid $content-bgColor;\r\n    }\r\n    &__title {\r\n      line-height: 0.22rem;\r\n      font-size: 0.16rem;\r\n      color: $content-fontColor;\r\n    }\r\n    &__tags {\r\n      margin-top: 0.08rem;\r\n      line-height: 0.18rem;\r\n      font-size: 0.13rem;\r\n      color: $content-fontColor;\r\n    }\r\n    &__tag {\r\n      margin-right: 0.16rem;\r\n    }\r\n    &__hightlight {\r\n      padding-bottom: 0.12rem;\r\n      line-height: 0.18rem;\r\n      font-size: 0.13rem;\r\n      margin: 0.08rem 0 0 0;\r\n      color: #e93b3b;\r\n    }\r\n  }\r\n  &__products {\r\n    width: 2.6rem;\r\n    display: flex;\r\n    overflow: hidden;\r\n  }\r\n  &__product {\r\n    margin-right: 0.16rem;\r\n    height: 1.31rem;\r\n    &__img {\r\n      width: 0.76rem;\r\n      height: 0.76rem;\r\n    }\r\n    &__title {\r\n      color: $content-fontColor;\r\n      font-size: 0.12rem;\r\n      line-height: 0.17rem;\r\n    }\r\n    &__price {\r\n      width: 0.76rem;\r\n      font-size: 0.14rem;\r\n      line-height: 0.2rem;\r\n      color: #999;\r\n      @include ellipsis;\r\n    }\r\n    .price__yen {\r\n      color: #E93B3B;\r\n      font-size: 0.1rem;\r\n      text-decoration: line-through;\r\n    }\r\n    .price__num {\r\n      color: #E93B3B;\r\n      margin-right: 0.04rem;\r\n    }\r\n    .oldPrice__yen {\r\n      font-size: 0.1rem;\r\n      text-decoration: line-through;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Shopinfo.vue?vue&type=template&id=54af685d&scoped=true\"\nimport script from \"./Shopinfo.vue?vue&type=script&lang=js\"\nexport * from \"./Shopinfo.vue?vue&type=script&lang=js\"\n\nimport \"./Shopinfo.vue?vue&type=style&index=0&id=54af685d&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-54af685d\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <TopArea />\r\n    <ProductList />\r\n    <Order />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopArea from \"./TopArea.vue\";\r\nimport ProductList from \"./ProductList\";\r\nimport Order from \"./Order\";\r\nexport default {\r\n  name: \"OrderConfirmation\",\r\n  components: { TopArea, ProductList, Order },\r\n  setup() {\r\n    return {};\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.wrapper {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #fafafa;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"top\">\r\n    <div class=\"top__bgcolor\"></div>\r\n    <div class=\"top__header\">\r\n      <div class=\"top__header__back iconfont\" @click=\"handleBack()\">\r\n        &#xe601;\r\n      </div>\r\n      确认订单\r\n    </div>\r\n    <div class=\"top__receiver\">\r\n      <div class=\"top__receiver__title\">收货地址</div>\r\n      <div class=\"top__receiver__address\">新疆昌吉市商城路亚馨家园</div>\r\n      <div class=\"top__receiver__info\">\r\n        <span class=\"top__receiver__info__name\">陈子涵</span>\r\n        <span class=\"top__receiver__info__name\">17609941226</span>\r\n      </div>\r\n      <div class=\"top__receiver__icon iconfont\">&#xe601;</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from \"@/router\";\r\nexport default {\r\n  name: \"TopArea\",\r\n  setup() {\r\n    const handleBack = () => {\r\n      router.back();\r\n    };\r\n    return { handleBack };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../style/viriables.scss\";\r\n.top {\r\n  position: relative;\r\n  height: 1.93rem;\r\n  background-size: 100% 1.59rem;\r\n  background-image: linear-gradient(0deg, rgba(0, 145, 255, 0) 4%, #0091ff 50%);\r\n  background-repeat: no-repeat;\r\n  &__header {\r\n    position: relative;\r\n    padding-top: 0.26rem;\r\n    line-height: 0.24rem;\r\n    color: $bgColor;\r\n    text-align: center;\r\n    font-size: 0.16rem;\r\n    &__back {\r\n      position: absolute;\r\n      left: 0.18rem;\r\n      font-size: 0.22rem;\r\n    }\r\n  }\r\n  &__receiver {\r\n    position: absolute;\r\n    left: 0.18rem;\r\n    right: 0.18rem;\r\n    bottom: 0;\r\n    height: 1.11rem;\r\n    background-color: $bgColor;\r\n    border-radius: 0.04rem;\r\n    &__title {\r\n      line-height: 0.22rem;\r\n      padding: 0.16rem 0 0.14rem 0.16rem;\r\n      font-size: 0.16rem;\r\n      color: $content-fontColor;\r\n    }\r\n    &__address {\r\n      line-height: 0.2rem;\r\n      padding: 0 0.4rem 0 0.16rem;\r\n      color: $content-fontColor;\r\n      font-size: 0.14rem;\r\n    }\r\n    &__info {\r\n      padding: 0.06rem 0 0 0.16rem;\r\n      &__name {\r\n        margin-right: 0.06rem;\r\n        line-height: 0.18rem;\r\n        font-size: 0.12rem;\r\n        color: #666;\r\n      }\r\n    }\r\n    &__icon {\r\n      position: absolute;\r\n      right: 0.16rem;\r\n      top: 0.48rem;\r\n      color: #666;\r\n      font-size: 0.2rem;\r\n      transform: rotate(180deg);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./TopArea.vue?vue&type=template&id=fa2c9aa2&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=fa2c9aa2&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fa2c9aa2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"products\">\r\n    <div class=\"products__title\">{{ shopName }}</div>\r\n    <div class=\"products__wrapper\">\r\n      <div class=\"products__list\">\r\n        <div class=\"products__item\" v-for=\"item in productList\" :key=\"item._id\">\r\n          <img class=\"products__item__img\" :src=\"item.imgUrl\" alt=\"\" />\r\n          <div class=\"products__item__detail\">\r\n            <div class=\"products__item__title\">{{ item.name }}</div>\r\n            <p class=\"products__item__price\">\r\n              <span class=\"products__item__yen\"\r\n                >&yen;{{ item.price }} × {{ item.count }}</span\r\n              >\r\n              <span class=\"products__item__total\"\r\n                >&yen;{{ (item.price * item.count).toFixed(2) }}</span\r\n              >\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRoute } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { useCartEffect } from \"../shop/commonCartEffect\";\r\nexport default {\r\n  name: \"ProductList\",\r\n  setup() {\r\n    const route = useRoute();\r\n    const store = useStore();\r\n    const shopId = route.params.id;\r\n    const cartList = store.state.cartList;\r\n    const { productList, shopName } = useCartEffect(shopId);\r\n\r\n    return {\r\n      shopId,\r\n      cartList,\r\n      productList,\r\n      shopName,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../style/viriables.scss\";\r\n@import \"../../style/mixins.scss\";\r\n.products {\r\n  margin: 0.16rem 0.18rem;\r\n  background-color: $bgColor;\r\n  &__title {\r\n    padding: 0.16rem;\r\n    font-size: 0.16rem;\r\n  }\r\n  &__wrapper {\r\n    height: 3.43rem;\r\n    background-color: #fafafa;\r\n    overflow-y: scroll;\r\n  }\r\n  &__list {\r\n    background-color: $bgColor;\r\n  }\r\n  &__item {\r\n    position: relative;\r\n    display: flex;\r\n    margin: 0 0.16rem 0.16rem 0.16rem;\r\n    &__detail {\r\n      flex: 1;\r\n      overflow: hidden;\r\n    }\r\n    &__img {\r\n      width: 0.46rem;\r\n      height: 0.46rem;\r\n      margin-right: 0.16rem;\r\n    }\r\n    &__title {\r\n      margin-bottom: 0.06rem;\r\n      font-weight: bold;\r\n      line-height: 0.2rem;\r\n      font-size: 0.14rem;\r\n      color: $content-fontColor;\r\n      @include ellipsis;\r\n    }\r\n    &__price {\r\n      display: flex;\r\n      margin: 0;\r\n      height: 0.2rem;\r\n    }\r\n    &__yen {\r\n      flex: 1;\r\n      color: #e93b3b;\r\n      font-size: 0.14rem;\r\n    }\r\n    &__total {\r\n      font-size: 0.14rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./ProductList.vue?vue&type=template&id=1f3f0893&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=1f3f0893&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f3f0893\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"order\">\r\n      <div class=\"order__price\">\r\n        实付金额\r\n        <span class=\"order__price__num\"\r\n          ><b>&yen;{{ price }}</b></span\r\n        >\r\n      </div>\r\n      <div class=\"order__btn\" @click=\"() => submitOrder(true)\">提交订单</div>\r\n    </div>\r\n    <div class=\"mask\" v-show=\"mask\" @click=\"() => submitOrder(false)\">\r\n      <div class=\"mask__content\" @click.stop>\r\n        <h3 class=\"mask__content__title\">确认要离开收银台?</h3>\r\n        <p class=\"mask__content__desc\">请尽快完成支付，否则将被取消</p>\r\n        <div class=\"mask__content__btns\">\r\n          <div class=\"mask__content__btn\" @click=\"() => handleConfirma(true)\">\r\n            取消订单\r\n          </div>\r\n          <div\r\n            class=\"mask__content__btn confirmation\"\r\n            @click=\"() => handleConfirma(false)\"\r\n          >\r\n            确认支付\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { useRouter, useRoute, loadRouteLocation } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport { post } from \"../../utils/request\";\r\nimport { useCartEffect } from \"../shop/commonCartEffect\";\r\nimport TopArea from \"./TopArea.vue\";\r\nimport ProductList from \"./ProductList\";\r\nimport ShopinfoVue from \"../../components/Shopinfo.vue\";\r\nexport default {\r\n  name: \"Order\",\r\n  components: { TopArea, ProductList },\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const store = useStore();\r\n    const shopId = parseInt(route.params.id); //parseInt('1', index) = 1 index默认为10进制\r\n    const { productList, price, shopName } = useCartEffect(shopId);\r\n    const mask = ref(false);\r\n    const handleConfirma = async (isCanceled) => {\r\n      //post订单数据\r\n      try {\r\n        const arr = [];\r\n        for (let i in productList.value) {\r\n          const product = productList.value[i];\r\n          arr.push({ id: parseInt(product._id), num: product.count });\r\n        }\r\n        const result = await post(\"/api/order/\", {\r\n          addressId: \"昌吉\",\r\n          shopId,\r\n          shopName: shopName.value,\r\n          isCanceled: isCanceled,\r\n          products: arr,\r\n        });\r\n        if (result.data.errno === 0) {\r\n          if (isCanceled === true) {\r\n            router.push({ name: \"Home\" });\r\n          } else {\r\n            router.push({ name: \"OrderList\" });\r\n          }\r\n          store.commit(\"clearCart\", shopId);\r\n          const cartCopy = JSON.parse(localStorage.cartList || \"{}\");\r\n          delete cartCopy[shopId];\r\n          localStorage.cartList = JSON.stringify(cartCopy)\r\n        }\r\n      } catch (error) {\r\n        console.log(\"提示下单失败\" + error);\r\n      }\r\n    };\r\n    const submitOrder = (boolean) => {\r\n      //蒙层\r\n      mask.value = boolean;\r\n    };\r\n    return {\r\n      price,\r\n      mask,\r\n      handleConfirma,\r\n      submitOrder,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../style/viriables.scss\";\r\n.order {\r\n  display: flex;\r\n  height: 0.49rem;\r\n  font-size: 0.14rem;\r\n  position: fixed;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  background-color: $bgColor;\r\n  &__price {\r\n    flex: 1;\r\n    color: $content-fontColor;\r\n    padding: 0.13rem 0.24rem;\r\n    &__num {\r\n      font-size: 0.16rem;\r\n    }\r\n  }\r\n  &__btn {\r\n    width: 1rem;\r\n    height: 0.49rem;\r\n    color: $bgColor;\r\n    line-height: 0.49rem;\r\n    text-align: center;\r\n    background-color: #4fb0f9;\r\n  }\r\n}\r\n.mask {\r\n  z-index: 1;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  &__content {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 3rem;\r\n    height: 1.56rem;\r\n    background-color: $bgColor;\r\n    border-radius: 0.04rem;\r\n    &__title {\r\n      margin: 0.24rem 0 0 0;\r\n      font-size: 0.18rem;\r\n      line-height: 0.25rem;\r\n      color: $content-fontColor;\r\n      text-align: center;\r\n    }\r\n    &__desc {\r\n      margin: 0.08rem 0 0.24rem 0;\r\n      line-height: 0.2rem;\r\n      text-align: center;\r\n      color: #666;\r\n    }\r\n    &__btns {\r\n      display: flex;\r\n      justify-content: center;\r\n    }\r\n    &__btn {\r\n      margin: 0 0.12rem;\r\n      width: 0.8rem;\r\n      line-height: 0.32rem;\r\n      font-size: 0.14rem;\r\n      border: 1px solid #0091ff;\r\n      border-radius: 0.16rem;\r\n      text-align: center;\r\n      color: #0091ff;\r\n    }\r\n    .confirmation {\r\n      color: $bgColor;\r\n      background-color: #4fb0f9;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Order.vue?vue&type=template&id=e6de65fe&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=e6de65fe&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e6de65fe\"]])\n\nexport default __exports__","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=2e8824c6&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=2e8824c6&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e8824c6\"]])\n\nexport default __exports__"],"names":["useCartEffect","shopId","store","useStore","cartList","state","timeOutEvent","changeItemToCart","productId","productInfo","num","commit","changeItemToCart_touch","shopName","clearTimeout","setInterval","changeItemToCart_handle","productList","computed","notEmptyProductList","i","count","price","product","check","toFixed","class","_createElementVNode","_createElementBlock","_hoisted_1","src","$props","imgUrl","alt","_hoisted_3","name","_hoisted_4","_hoisted_5","sales","_hoisted_6","expressLimit","_hoisted_7","expressPrice","_hoisted_8","slogan","products","_hoisted_9","_Fragment","key","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","oldPrice","props","__exports__","render","_createVNode","_component_TopArea","_component_ProductList","_component_Order","_hoisted_2","onClick","$setup","setup","handleBack","router","item","_id","_hoisted_10","route","useRoute","params","id","components","TopArea","ProductList","useRouter","parseInt","mask","ref","handleConfirma","async","arr","value","push","result","post","addressId","isCanceled","data","errno","cartCopy","JSON","parse","localStorage","stringify","error","console","log","submitOrder","boolean","Order"],"sourceRoot":""}