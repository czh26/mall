{"version":3,"file":"js/486.f5bcbc83.js","mappings":"+LACSA,MAAM,S,0CAAXC,EAAAA,EAAAA,IAAsC,MAAtCC,GAAsC,QAAhBC,EAAAA,SAAO,E,eAK1B,MAAMC,EAAiB,KAC5B,MAAMC,GAAYC,EAAAA,EAAAA,IAAS,CACzBC,aAAa,EACbC,YAAa,KAETC,EAAaC,IACjBL,EAAUE,aAAc,EACxBF,EAAUG,YAAcE,EACxBC,YAAW,KACTN,EAAUE,aAAc,EACxBF,EAAUG,YAAc,EAAE,GACzB,IAAK,EAEV,MAAO,CAAEH,YAAWI,YAAWL,iBAAgB,EAGjD,OACIQ,MAAO,CAAC,Y,QChBZ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,2JCROd,MAAM,W,UACTe,EAAAA,EAAAA,GAIE,OAHAf,MAAM,eACNgB,IAAI,6CACJC,IAAI,I,cAEDjB,MAAM,kB,GAONA,MAAM,kB,oEAbbC,EAAAA,EAAAA,IA2BM,MA3BNC,EA2BM,CA1BJgB,GAKAH,EAAAA,EAAAA,GAMM,MANNI,EAMM,WALJJ,EAAAA,EAAAA,GAIE,SAHAf,MAAM,0BACNoB,YAAY,S,qCACHC,EAAAA,KAAKC,SAAQ,I,iBAAbD,EAAAA,KAAKC,eAGlBP,EAAAA,EAAAA,GAQM,MARNQ,EAQM,WAPJR,EAAAA,EAAAA,GAME,SALAf,MAAM,0BACNwB,KAAK,WACLJ,YAAY,Q,qCACHC,EAAAA,KAAKI,SAAQ,GACtBC,aAAa,gB,iBADJL,EAAAA,KAAKI,eAIlBV,EAAAA,EAAAA,GAA+D,OAA1Df,MAAM,qBAAsB2B,QAAK,eAAEN,EAAAA,gBAAe,OACvDN,EAAAA,EAAAA,GAEM,OAFDf,MAAM,wBAAyB2B,QAAK,eAAEN,EAAAA,wBAAuB,UAGrDA,EAAAA,UAAUd,cAAW,WAAlCqB,EAAAA,EAAAA,IAAuEC,EAAAA,C,MAAlCnB,QAASW,EAAAA,UAAUb,a,0FAU5D,GACEsB,KAAM,QACNC,WAAY,CAAEC,MAAKA,EAAAA,GACnBC,QACE,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAO9B,EAAAA,EAAAA,IAAS,CACpBgB,SAAU,GACVG,SAAU,MAEN,UAAEpB,EAAS,UAAEI,IAAcL,EAAAA,EAAAA,KAC3BiC,EAAcC,UAClB,IACE,MAAMC,QAAeC,EAAAA,EAAAA,GAAK,kBAAmB,CAC3ClB,SAAUc,EAAKd,SACfG,SAAUW,EAAKX,WAGfc,GAAQH,KAAKd,WAAac,EAAKd,UAC/BiB,GAAQH,KAAKX,WAAaW,EAAKX,UAE/BgB,aAAaC,SAAU,EACvBR,EAAOS,KAAK,CAAEb,KAAM,UAEpBrB,EAAU,aAEZmC,QAAQC,IAAIN,EAGd,CAFE,MAAOO,GACPC,MAAM,QAAUD,EAClB,GAuBIE,EAAsB,KAC1Bd,EAAOS,KAAK,CAAEb,KAAM,YAAa,EAEnC,MAAO,CACLO,cACAW,sBACAZ,OACAhC,eAAc,IACdC,YACAI,YAEJ,G,QC5FF,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://mall/./src/components/Toast.vue","webpack://mall/./src/components/Toast.vue?44c7","webpack://mall/./src/views/login/Login.vue","webpack://mall/./src/views/login/Login.vue?9557"],"sourcesContent":["<template>\r\n    <div class=\"toast\">{{ message }}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive } from 'vue';\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    toastStatus: false,\r\n    showMessage: \"\",\r\n  });\r\n  const showToast = (message) => {\r\n    toastData.toastStatus = true;\r\n    toastData.showMessage = message;\r\n    setTimeout(() => {\r\n      toastData.toastStatus = false;\r\n      toastData.showMessage = \"\";\r\n    }, 3000);\r\n  };\r\n  return { toastData, showToast, useToastEffect };\r\n};\r\n\r\nexport default {\r\n    props: ['message']\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.toast {\r\n    position: fixed;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    padding: 0.1rem;\r\n    background-color: rgba(0, 0, 0, 0.35);\r\n    font-size: 0.16rem;\r\n    color: #fff;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=13138cbd&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=13138cbd&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13138cbd\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      class=\"wrapper__img\"\r\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\r\n      alt=\"\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"data.username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        type=\"password\"\r\n        placeholder=\"请输入密码\"\r\n        v-model=\"data.password\"\r\n        autocomplete=\"new-password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__login-btn\" @click=\"handleLogin()\">登陆</div>\r\n    <div class=\"wrapper__register-btn\" @click=\"handleRegisterClick()\">\r\n      立即注册\r\n    </div>\r\n    <Toast v-if=\"toastData.toastStatus\" :message=\"toastData.showMessage\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n// import axios from \"axios\";\r\nimport { post } from \"../../utils/request\";\r\nimport Toast, { useToastEffect } from \"../../components/Toast\";\r\nexport default {\r\n  name: \"Login\",\r\n  components: { Toast },\r\n  setup() {\r\n    const router = useRouter();\r\n    const data = reactive({\r\n      username: \"\",\r\n      password: \"\",\r\n    });\r\n    const { toastData, showToast } = useToastEffect();\r\n    const handleLogin = async () => {\r\n      try {\r\n        const result = await post(\"/api/user/login\", {\r\n          username: data.username,\r\n          password: data.password,\r\n        });\r\n        if (\r\n          result?.data.username === data.username &&\r\n          result?.data.password === data.password\r\n        ) {\r\n          localStorage.isLogin = true;\r\n          router.push({ name: \"Home\" });\r\n        } else {\r\n          showToast(\"用户名或密码不正确\");\r\n        }\r\n        console.log(result);\r\n      } catch (error) {\r\n        alert(\"请求失败 \" + error);\r\n      }\r\n    };\r\n    //   axios\r\n    //   .post(\r\n    //     \"https://www.fastmock.site/mock/da93472fba0eef3a73891c0459778e5a/mall/api/user/login\",\r\n    //     {\r\n    //       username: data.username,\r\n    //       password: data.password,\r\n    //     }\r\n    //   )\r\n    //   .then((res) => {\r\n    //     if (res.data.username === data.username & res.data.password === data.password) {\r\n    //       localStorage.isLogin = true;\r\n    //       router.push({ name: \"Home\" });\r\n    //     }\r\n    //     // console.log(res.data);\r\n    //   })\r\n    //   .catch(() => {\r\n    //     console.log(err);\r\n    //   });\r\n    // localStorage.isLogin = true;\r\n    // router.push({ name: 'Home' });\r\n\r\n    const handleRegisterClick = () => {\r\n      router.push({ name: \"Register\" });\r\n    };\r\n    return {\r\n      handleLogin,\r\n      handleRegisterClick,\r\n      data,\r\n      useToastEffect,\r\n      toastData,\r\n      showToast,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../style/viriables.scss\";\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    margin: 0 auto 0.4rem auto;\r\n  }\r\n  &__input {\r\n    height: 0.48rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    padding: 0 0.16rem;\r\n    background-color: #f9f9f9;\r\n    border: 1px solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    &__content {\r\n      line-height: 0.48rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: 0.16rem;\r\n      color: $content-notice-fontColor;\r\n      &::placeholder {\r\n        color: $content-notice-fontColor;\r\n      }\r\n    }\r\n  }\r\n  &__login-btn {\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    line-height: 0.48rem;\r\n    background: #0091ff;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    border-radius: 0.04rem;\r\n    color: #fff;\r\n    font-size: 0.16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-btn {\r\n    text-align: center;\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontColor;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=4fb5a38e&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=4fb5a38e&scoped=true&lang=scss\"\n\nimport exportComponent from \"E:\\\\Vue-Progects\\\\mall\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fb5a38e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","$props","useToastEffect","toastData","reactive","toastStatus","showMessage","showToast","message","setTimeout","props","__exports__","render","_createElementVNode","src","alt","_hoisted_2","_hoisted_3","placeholder","$setup","username","_hoisted_4","type","password","autocomplete","onClick","_createBlock","_component_Toast","name","components","Toast","setup","router","useRouter","data","handleLogin","async","result","post","localStorage","isLogin","push","console","log","error","alert","handleRegisterClick"],"sourceRoot":""}